{"remainingRequest":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/babel-loader/lib/index.js!/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/plugins/tab.js","dependencies":[{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/plugins/tab.js","mtime":1645289502000},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/babel.config.js","mtime":1645289502000},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/cache-loader/dist/cjs.js","mtime":1646568386999},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/babel-loader/lib/index.js","mtime":1646568387812},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1646568387151}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvemhhb3NoL2dpdGh1Yi93ZGgtcG1wL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiKTsKCnZhciBfc3RvcmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvc3RvcmUiKSk7Cgp2YXIgX3JvdXRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9yb3V0ZXIiKSk7Cgp2YXIgX2RlZmF1bHQgPSB7CiAgLy8g5Yi35paw5b2T5YmNdGFi6aG1562+CiAgcmVmcmVzaFBhZ2U6IGZ1bmN0aW9uIHJlZnJlc2hQYWdlKG9iaikgewogICAgdmFyIF9yb3V0ZXIkY3VycmVudFJvdXRlID0gX3JvdXRlci5kZWZhdWx0LmN1cnJlbnRSb3V0ZSwKICAgICAgICBwYXRoID0gX3JvdXRlciRjdXJyZW50Um91dGUucGF0aCwKICAgICAgICBxdWVyeSA9IF9yb3V0ZXIkY3VycmVudFJvdXRlLnF1ZXJ5LAogICAgICAgIG1hdGNoZWQgPSBfcm91dGVyJGN1cnJlbnRSb3V0ZS5tYXRjaGVkOwoKICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkgewogICAgICBtYXRjaGVkLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICBpZiAobS5jb21wb25lbnRzICYmIG0uY29tcG9uZW50cy5kZWZhdWx0ICYmIG0uY29tcG9uZW50cy5kZWZhdWx0Lm5hbWUpIHsKICAgICAgICAgIGlmICghWydMYXlvdXQnLCAnUGFyZW50VmlldyddLmluY2x1ZGVzKG0uY29tcG9uZW50cy5kZWZhdWx0Lm5hbWUpKSB7CiAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICBuYW1lOiBtLmNvbXBvbmVudHMuZGVmYXVsdC5uYW1lLAogICAgICAgICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbENhY2hlZFZpZXcnLCBvYmopLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICB2YXIgX29iaiA9IG9iaiwKICAgICAgICAgIHBhdGggPSBfb2JqLnBhdGgsCiAgICAgICAgICBxdWVyeSA9IF9vYmoucXVlcnk7CgogICAgICBfcm91dGVyLmRlZmF1bHQucmVwbGFjZSh7CiAgICAgICAgcGF0aDogJy9yZWRpcmVjdCcgKyBwYXRoLAogICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g5YWz6Zet5b2T5YmNdGFi6aG1562+77yM5omT5byA5paw6aG1562+CiAgY2xvc2VPcGVuUGFnZTogZnVuY3Rpb24gY2xvc2VPcGVuUGFnZShvYmopIHsKICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCJ0YWdzVmlldy9kZWxWaWV3IiwgX3JvdXRlci5kZWZhdWx0LmN1cnJlbnRSb3V0ZSk7CgogICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBfcm91dGVyLmRlZmF1bHQucHVzaChvYmopOwogICAgfQogIH0sCiAgLy8g5YWz6Zet5oyH5a6adGFi6aG1562+CiAgY2xvc2VQYWdlOiBmdW5jdGlvbiBjbG9zZVBhZ2Uob2JqKSB7CiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgX3JvdXRlci5kZWZhdWx0LmN1cnJlbnRSb3V0ZSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBsYXN0UGF0aCA9IF9yZWYubGFzdFBhdGg7CiAgICAgICAgcmV0dXJuIF9yb3V0ZXIuZGVmYXVsdC5wdXNoKGxhc3RQYXRoIHx8ICcvJyk7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsVmlldycsIG9iaik7CiAgfSwKICAvLyDlhbPpl63miYDmnIl0YWLpobXnrb4KICBjbG9zZUFsbFBhZ2U6IGZ1bmN0aW9uIGNsb3NlQWxsUGFnZSgpIHsKICAgIHJldHVybiBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsQWxsVmlld3MnKTsKICB9LAogIC8vIOWFs+mXreW3puS+p3RhYumhteetvgogIGNsb3NlTGVmdFBhZ2U6IGZ1bmN0aW9uIGNsb3NlTGVmdFBhZ2Uob2JqKSB7CiAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbExlZnRUYWdzJywgb2JqIHx8IF9yb3V0ZXIuZGVmYXVsdC5jdXJyZW50Um91dGUpOwogIH0sCiAgLy8g5YWz6Zet5Y+z5L6ndGFi6aG1562+CiAgY2xvc2VSaWdodFBhZ2U6IGZ1bmN0aW9uIGNsb3NlUmlnaHRQYWdlKG9iaikgewogICAgcmV0dXJuIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCd0YWdzVmlldy9kZWxSaWdodFRhZ3MnLCBvYmogfHwgX3JvdXRlci5kZWZhdWx0LmN1cnJlbnRSb3V0ZSk7CiAgfSwKICAvLyDlhbPpl63lhbbku5Z0YWLpobXnrb4KICBjbG9zZU90aGVyUGFnZTogZnVuY3Rpb24gY2xvc2VPdGhlclBhZ2Uob2JqKSB7CiAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbE90aGVyc1ZpZXdzJywgb2JqIHx8IF9yb3V0ZXIuZGVmYXVsdC5jdXJyZW50Um91dGUpOwogIH0sCiAgLy8g5re75YqgdGFi6aG1562+CiAgb3BlblBhZ2U6IGZ1bmN0aW9uIG9wZW5QYWdlKHRpdGxlLCB1cmwpIHsKICAgIHZhciBvYmogPSB7CiAgICAgIHBhdGg6IHVybCwKICAgICAgbWV0YTogewogICAgICAgIHRpdGxlOiB0aXRsZQogICAgICB9CiAgICB9OwoKICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCd0YWdzVmlldy9hZGRWaWV3Jywgb2JqKTsKCiAgICByZXR1cm4gX3JvdXRlci5kZWZhdWx0LnB1c2godXJsKTsKICB9LAogIC8vIOS/ruaUuXRhYumhteetvgogIHVwZGF0ZVBhZ2U6IGZ1bmN0aW9uIHVwZGF0ZVBhZ2Uob2JqKSB7CiAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L3VwZGF0ZVZpc2l0ZWRWaWV3Jywgb2JqKTsKICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/plugins/tab.js"],"names":["refreshPage","obj","router","currentRoute","path","query","matched","undefined","forEach","m","components","default","name","includes","store","dispatch","then","replace","closeOpenPage","push","closePage","lastPath","closeAllPage","closeLeftPage","closeRightPage","closeOtherPage","openPage","title","url","meta","updatePage"],"mappings":"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","sourcesContent":["import store from '@/store'\r\nimport router from '@/router';\r\n\r\nexport default {\r\n  // 刷新当前tab页签\r\n  refreshPage(obj) {\r\n    const { path, query, matched } = router.currentRoute;\r\n    if (obj === undefined) {\r\n      matched.forEach((m) => {\r\n        if (m.components && m.components.default && m.components.default.name) {\r\n          if (!['Layout', 'ParentView'].includes(m.components.default.name)) {\r\n            obj = { name: m.components.default.name, path: path, query: query };\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return store.dispatch('tagsView/delCachedView', obj).then(() => {\r\n      const { path, query } = obj\r\n      router.replace({\r\n        path: '/redirect' + path,\r\n        query: query\r\n      })\r\n    })\r\n  },\r\n  // 关闭当前tab页签，打开新页签\r\n  closeOpenPage(obj) {\r\n    store.dispatch(\"tagsView/delView\", router.currentRoute);\r\n    if (obj !== undefined) {\r\n      return router.push(obj);\r\n    }\r\n  },\r\n  // 关闭指定tab页签\r\n  closePage(obj) {\r\n    if (obj === undefined) {\r\n      return store.dispatch('tagsView/delView', router.currentRoute).then(({ lastPath }) => {\r\n        return router.push(lastPath || '/');\r\n      });\r\n    }\r\n    return store.dispatch('tagsView/delView', obj);\r\n  },\r\n  // 关闭所有tab页签\r\n  closeAllPage() {\r\n    return store.dispatch('tagsView/delAllViews');\r\n  },\r\n  // 关闭左侧tab页签\r\n  closeLeftPage(obj) {\r\n    return store.dispatch('tagsView/delLeftTags', obj || router.currentRoute);\r\n  },\r\n  // 关闭右侧tab页签\r\n  closeRightPage(obj) {\r\n    return store.dispatch('tagsView/delRightTags', obj || router.currentRoute);\r\n  },\r\n  // 关闭其他tab页签\r\n  closeOtherPage(obj) {\r\n    return store.dispatch('tagsView/delOthersViews', obj || router.currentRoute);\r\n  },\r\n  // 添加tab页签\r\n  openPage(title, url) {\r\n    var obj = { path: url, meta: { title: title } }\r\n    store.dispatch('tagsView/addView', obj);\r\n    return router.push(url);\r\n  },\r\n  // 修改tab页签\r\n  updatePage(obj) {\r\n    return store.dispatch('tagsView/updateVisitedView', obj);\r\n  }\r\n}\r\n"]}]}
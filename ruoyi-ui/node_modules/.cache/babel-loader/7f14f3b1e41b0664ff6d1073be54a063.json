{"remainingRequest":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/babel-loader/lib/index.js!/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/utils/dict/DictOptions.js","dependencies":[{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/utils/dict/DictOptions.js","mtime":1645289502000},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/babel.config.js","mtime":1645289502000},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/cache-loader/dist/cjs.js","mtime":1646568386999},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/babel-loader/lib/index.js","mtime":1646568387812},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1646568387151}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvemhhb3NoL2dpdGh1Yi93ZGgtcG1wL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKZXhwb3J0cy5tZXJnZU9wdGlvbnMgPSBtZXJnZU9wdGlvbnM7CmV4cG9ydHMub3B0aW9ucyA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7Cgp2YXIgX3J1b3lpID0gcmVxdWlyZSgiQC91dGlscy9ydW95aSIpOwoKdmFyIF9EaWN0Q29udmVydGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL0RpY3RDb252ZXJ0ZXIiKSk7Cgp2YXIgb3B0aW9ucyA9IHsKICBtZXRhczogewogICAgJyonOiB7CiAgICAgIC8qKg0KICAgICAgICog5a2X5YW46K+35rGC77yM5pa55rOV562+5ZCN5Li6ZnVuY3Rpb24oZGljdE1ldGE6IERpY3RNZXRhKTogUHJvbWlzZQ0KICAgICAgICovCiAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QoZGljdE1ldGEpIHsKICAgICAgICBjb25zb2xlLmxvZygibG9hZCBkaWN0ICIuY29uY2F0KGRpY3RNZXRhLnR5cGUpKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTsKICAgICAgfSwKCiAgICAgIC8qKg0KICAgICAgICog5a2X5YW45ZON5bqU5pWw5o2u6L2s5o2i5Zmo77yM5pa55rOV562+5ZCN5Li6ZnVuY3Rpb24ocmVzcG9uc2U6IE9iamVjdCwgZGljdE1ldGE6IERpY3RNZXRhKTogRGljdERhdGENCiAgICAgICAqLwogICAgICByZXNwb25zZUNvbnZlcnRlcjogcmVzcG9uc2VDb252ZXJ0ZXIsCiAgICAgIGxhYmVsRmllbGQ6ICdsYWJlbCcsCiAgICAgIHZhbHVlRmllbGQ6ICd2YWx1ZScKICAgIH0KICB9LAoKICAvKioNCiAgICog6buY6K6k5qCH562+5a2X5q61DQogICAqLwogIERFRkFVTFRfTEFCRUxfRklFTERTOiBbJ2xhYmVsJywgJ25hbWUnLCAndGl0bGUnXSwKCiAgLyoqDQogICAqIOm7mOiupOWAvOWtl+autQ0KICAgKi8KICBERUZBVUxUX1ZBTFVFX0ZJRUxEUzogWyd2YWx1ZScsICdpZCcsICd1aWQnLCAna2V5J10KfTsKLyoqDQogKiDmmKDlsITlrZflhbgNCiAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSDlrZflhbjmlbDmja4NCiAqIEBwYXJhbSB7RGljdE1ldGF9IGRpY3RNZXRhIOWtl+WFuOWFg+aVsOaNrg0KICogQHJldHVybnMge0RpY3REYXRhfQ0KICovCgpleHBvcnRzLm9wdGlvbnMgPSBvcHRpb25zOwoKZnVuY3Rpb24gcmVzcG9uc2VDb252ZXJ0ZXIocmVzcG9uc2UsIGRpY3RNZXRhKSB7CiAgdmFyIGRpY3RzID0gcmVzcG9uc2UuY29udGVudCBpbnN0YW5jZW9mIEFycmF5ID8gcmVzcG9uc2UuY29udGVudCA6IHJlc3BvbnNlOwoKICBpZiAoZGljdHMgPT09IHVuZGVmaW5lZCkgewogICAgY29uc29sZS53YXJuKCJubyBkaWN0IGRhdGEgb2YgXCIiLmNvbmNhdChkaWN0TWV0YS50eXBlLCAiXCIgZm91bmQgaW4gdGhlIHJlc3BvbnNlIikpOwogICAgcmV0dXJuIFtdOwogIH0KCiAgcmV0dXJuIGRpY3RzLm1hcChmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuICgwLCBfRGljdENvbnZlcnRlci5kZWZhdWx0KShkLCBkaWN0TWV0YSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhzcmMpIHsKICAoMCwgX3J1b3lpLm1lcmdlUmVjdXJzaXZlKShvcHRpb25zLCBzcmMpOwp9Cgp2YXIgX2RlZmF1bHQgPSBvcHRpb25zOwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/utils/dict/DictOptions.js"],"names":["options","metas","request","dictMeta","console","log","type","Promise","resolve","responseConverter","labelField","valueField","DEFAULT_LABEL_FIELDS","DEFAULT_VALUE_FIELDS","response","dicts","content","Array","undefined","warn","map","d","mergeOptions","src"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AAEO,IAAMA,OAAO,GAAG;AACrBC,EAAAA,KAAK,EAAE;AACL,SAAK;AACH;AACN;AACA;AACMC,MAAAA,OAAO,EAAE,iBAACC,QAAD,EAAc;AACrBC,QAAAA,OAAO,CAACC,GAAR,qBAAyBF,QAAQ,CAACG,IAAlC;AACA,eAAOC,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAP;AACD,OAPE;;AAQH;AACN;AACA;AACMC,MAAAA,iBAAiB,EAAjBA,iBAXG;AAYHC,MAAAA,UAAU,EAAE,OAZT;AAaHC,MAAAA,UAAU,EAAE;AAbT;AADA,GADc;;AAkBrB;AACF;AACA;AACEC,EAAAA,oBAAoB,EAAE,CAAC,OAAD,EAAU,MAAV,EAAkB,OAAlB,CArBD;;AAsBrB;AACF;AACA;AACEC,EAAAA,oBAAoB,EAAE,CAAC,OAAD,EAAU,IAAV,EAAgB,KAAhB,EAAuB,KAAvB;AAzBD,CAAhB;AA4BP;AACA;AACA;AACA;AACA;AACA;;;;AACA,SAASJ,iBAAT,CAA2BK,QAA3B,EAAqCX,QAArC,EAA+C;AAC7C,MAAMY,KAAK,GAAGD,QAAQ,CAACE,OAAT,YAA4BC,KAA5B,GAAoCH,QAAQ,CAACE,OAA7C,GAAuDF,QAArE;;AACA,MAAIC,KAAK,KAAKG,SAAd,EAAyB;AACvBd,IAAAA,OAAO,CAACe,IAAR,6BAAiChB,QAAQ,CAACG,IAA1C;AACA,WAAO,EAAP;AACD;;AACD,SAAOS,KAAK,CAACK,GAAN,CAAU,UAAAC,CAAC;AAAA,WAAI,4BAAcA,CAAd,EAAiBlB,QAAjB,CAAJ;AAAA,GAAX,CAAP;AACD;;AAEM,SAASmB,YAAT,CAAsBC,GAAtB,EAA2B;AAChC,6BAAevB,OAAf,EAAwBuB,GAAxB;AACD;;eAEcvB,O","sourcesContent":["import { mergeRecursive } from \"@/utils/ruoyi\";\r\nimport dictConverter from './DictConverter'\r\n\r\nexport const options = {\r\n  metas: {\r\n    '*': {\r\n      /**\r\n       * 字典请求，方法签名为function(dictMeta: DictMeta): Promise\r\n       */\r\n      request: (dictMeta) => {\r\n        console.log(`load dict ${dictMeta.type}`)\r\n        return Promise.resolve([])\r\n      },\r\n      /**\r\n       * 字典响应数据转换器，方法签名为function(response: Object, dictMeta: DictMeta): DictData\r\n       */\r\n      responseConverter,\r\n      labelField: 'label',\r\n      valueField: 'value',\r\n    },\r\n  },\r\n  /**\r\n   * 默认标签字段\r\n   */\r\n  DEFAULT_LABEL_FIELDS: ['label', 'name', 'title'],\r\n  /**\r\n   * 默认值字段\r\n   */\r\n  DEFAULT_VALUE_FIELDS: ['value', 'id', 'uid', 'key'],\r\n}\r\n\r\n/**\r\n * 映射字典\r\n * @param {Object} response 字典数据\r\n * @param {DictMeta} dictMeta 字典元数据\r\n * @returns {DictData}\r\n */\r\nfunction responseConverter(response, dictMeta) {\r\n  const dicts = response.content instanceof Array ? response.content : response\r\n  if (dicts === undefined) {\r\n    console.warn(`no dict data of \"${dictMeta.type}\" found in the response`)\r\n    return []\r\n  }\r\n  return dicts.map(d => dictConverter(d, dictMeta))\r\n}\r\n\r\nexport function mergeOptions(src) {\r\n  mergeRecursive(options, src)\r\n}\r\n\r\nexport default options\r\n"]}]}
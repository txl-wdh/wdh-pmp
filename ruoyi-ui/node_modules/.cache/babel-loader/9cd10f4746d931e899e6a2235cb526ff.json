{"remainingRequest":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/babel-loader/lib/index.js!/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/layout/mixin/ResizeHandler.js","dependencies":[{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/layout/mixin/ResizeHandler.js","mtime":1645289502000},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/babel.config.js","mtime":1645289502000},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/cache-loader/dist/cjs.js","mtime":1646568386999},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/babel-loader/lib/index.js","mtime":1646568387812},{"path":"/Users/zhaosh/github/wdh-pmp/ruoyi-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1646568387151}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvemhhb3NoL2dpdGh1Yi93ZGgtcG1wL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfc3RvcmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvc3RvcmUiKSk7Cgp2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsCiAgICBib2R5ID0gX2RvY3VtZW50LmJvZHk7CnZhciBXSURUSCA9IDk5MjsgLy8gcmVmZXIgdG8gQm9vdHN0cmFwJ3MgcmVzcG9uc2l2ZSBkZXNpZ24KCnZhciBfZGVmYXVsdCA9IHsKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUocm91dGUpIHsKICAgICAgaWYgKHRoaXMuZGV2aWNlID09PSAnbW9iaWxlJyAmJiB0aGlzLnNpZGViYXIub3BlbmVkKSB7CiAgICAgICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ2FwcC9jbG9zZVNpZGVCYXInLCB7CiAgICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy4kX3Jlc2l6ZUhhbmRsZXIpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLiRfcmVzaXplSGFuZGxlcik7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGlzTW9iaWxlID0gdGhpcy4kX2lzTW9iaWxlKCk7CgogICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCdhcHAvdG9nZ2xlRGV2aWNlJywgJ21vYmlsZScpOwoKICAgICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ2FwcC9jbG9zZVNpZGVCYXInLCB7CiAgICAgICAgd2l0aG91dEFuaW1hdGlvbjogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIHVzZSAkXyBmb3IgbWl4aW5zIHByb3BlcnRpZXMKICAgIC8vIGh0dHBzOi8vdnVlanMub3JnL3YyL3N0eWxlLWd1aWRlL2luZGV4Lmh0bWwjUHJpdmF0ZS1wcm9wZXJ0eS1uYW1lcy1lc3NlbnRpYWwKICAgICRfaXNNb2JpbGU6IGZ1bmN0aW9uICRfaXNNb2JpbGUoKSB7CiAgICAgIHZhciByZWN0ID0gYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgcmV0dXJuIHJlY3Qud2lkdGggLSAxIDwgV0lEVEg7CiAgICB9LAogICAgJF9yZXNpemVIYW5kbGVyOiBmdW5jdGlvbiAkX3Jlc2l6ZUhhbmRsZXIoKSB7CiAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7CiAgICAgICAgdmFyIGlzTW9iaWxlID0gdGhpcy4kX2lzTW9iaWxlKCk7CgogICAgICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCdhcHAvdG9nZ2xlRGV2aWNlJywgaXNNb2JpbGUgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJyk7CgogICAgICAgIGlmIChpc01vYmlsZSkgewogICAgICAgICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ2FwcC9jbG9zZVNpZGVCYXInLCB7CiAgICAgICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["/Users/zhaosh/github/wdh-pmp/ruoyi-ui/src/layout/mixin/ResizeHandler.js"],"names":["document","body","WIDTH","watch","$route","route","device","sidebar","opened","store","dispatch","withoutAnimation","beforeMount","window","addEventListener","$_resizeHandler","beforeDestroy","removeEventListener","mounted","isMobile","$_isMobile","methods","rect","getBoundingClientRect","width","hidden"],"mappings":";;;;;;;;;AAAA;;AAEA,gBAAiBA,QAAjB;AAAA,IAAQC,IAAR,aAAQA,IAAR;AACA,IAAMC,KAAK,GAAG,GAAd,C,CAAkB;;eAEH;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MADK,kBACEC,KADF,EACS;AACZ,UAAI,KAAKC,MAAL,KAAgB,QAAhB,IAA4B,KAAKC,OAAL,CAAaC,MAA7C,EAAqD;AACnDC,uBAAMC,QAAN,CAAe,kBAAf,EAAmC;AAAEC,UAAAA,gBAAgB,EAAE;AAApB,SAAnC;AACD;AACF;AALI,GADM;AAQbC,EAAAA,WARa,yBAQC;AACZC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,eAAvC;AACD,GAVY;AAWbC,EAAAA,aAXa,2BAWG;AACdH,IAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqC,KAAKF,eAA1C;AACD,GAbY;AAcbG,EAAAA,OAda,qBAcH;AACR,QAAMC,QAAQ,GAAG,KAAKC,UAAL,EAAjB;;AACA,QAAID,QAAJ,EAAc;AACZV,qBAAMC,QAAN,CAAe,kBAAf,EAAmC,QAAnC;;AACAD,qBAAMC,QAAN,CAAe,kBAAf,EAAmC;AAAEC,QAAAA,gBAAgB,EAAE;AAApB,OAAnC;AACD;AACF,GApBY;AAqBbU,EAAAA,OAAO,EAAE;AACP;AACA;AACAD,IAAAA,UAHO,wBAGM;AACX,UAAME,IAAI,GAAGrB,IAAI,CAACsB,qBAAL,EAAb;AACA,aAAOD,IAAI,CAACE,KAAL,GAAa,CAAb,GAAiBtB,KAAxB;AACD,KANM;AAOPa,IAAAA,eAPO,6BAOW;AAChB,UAAI,CAACf,QAAQ,CAACyB,MAAd,EAAsB;AACpB,YAAMN,QAAQ,GAAG,KAAKC,UAAL,EAAjB;;AACAX,uBAAMC,QAAN,CAAe,kBAAf,EAAmCS,QAAQ,GAAG,QAAH,GAAc,SAAzD;;AAEA,YAAIA,QAAJ,EAAc;AACZV,yBAAMC,QAAN,CAAe,kBAAf,EAAmC;AAAEC,YAAAA,gBAAgB,EAAE;AAApB,WAAnC;AACD;AACF;AACF;AAhBM;AArBI,C","sourcesContent":["import store from '@/store'\r\n\r\nconst { body } = document\r\nconst WIDTH = 992 // refer to Bootstrap's responsive design\r\n\r\nexport default {\r\n  watch: {\r\n    $route(route) {\r\n      if (this.device === 'mobile' && this.sidebar.opened) {\r\n        store.dispatch('app/closeSideBar', { withoutAnimation: false })\r\n      }\r\n    }\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.$_resizeHandler)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.$_resizeHandler)\r\n  },\r\n  mounted() {\r\n    const isMobile = this.$_isMobile()\r\n    if (isMobile) {\r\n      store.dispatch('app/toggleDevice', 'mobile')\r\n      store.dispatch('app/closeSideBar', { withoutAnimation: true })\r\n    }\r\n  },\r\n  methods: {\r\n    // use $_ for mixins properties\r\n    // https://vuejs.org/v2/style-guide/index.html#Private-property-names-essential\r\n    $_isMobile() {\r\n      const rect = body.getBoundingClientRect()\r\n      return rect.width - 1 < WIDTH\r\n    },\r\n    $_resizeHandler() {\r\n      if (!document.hidden) {\r\n        const isMobile = this.$_isMobile()\r\n        store.dispatch('app/toggleDevice', isMobile ? 'mobile' : 'desktop')\r\n\r\n        if (isMobile) {\r\n          store.dispatch('app/closeSideBar', { withoutAnimation: true })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}